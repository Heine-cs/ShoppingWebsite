@model OllieShop.Models.Orders

@{
    ViewData["Title"] = "商品結帳確認";
    Layout = "~/Views/Shared/_Layout_Customer.cshtml";
}
<style>
    .table {
        table-layout: fixed;
    }

    .table tbody tr{
       height:150px;
    }
</style>

<h1>@ViewData["Title"]</h1>
<div class="row">
    <div class="col-8">
        @Html.Raw(@ViewData["CartTableWithChildNode"])
    </div>

    <div class="col-md-4">
        <h2>訂單總金額 : <span class="text-primary">NT$@ViewData["ProductFeeCount"]</span></h2>
        <form asp-action="GenerateOrdersBaseOnDifferentProducts">
            <div asp-validation-summary="ModelOnly" class="text-danger"></div>
            <div class="form-group d-none">
                <label asp-for="OrderDate" class="control-label"></label>
                <input asp-for="OrderDate" class="form-control" value='@ViewData["OrderEstablishDate"]'/>
                <span asp-validation-for="OrderDate" class="text-danger"></span>
            </div>
            <div class="form-group d-none">
                <label asp-for="PaymentDate" class="control-label"></label>
                <input asp-for="PaymentDate" class="form-control" />
                <span asp-validation-for="PaymentDate" class="text-danger"></span>
            </div>
            <div class="form-group d-none">
                <label asp-for="ShippedDate" class="control-label"></label>
                <input asp-for="ShippedDate" class="form-control" />
                <span asp-validation-for="ShippedDate" class="text-danger"></span>
            </div>
            <div class="form-group d-none">
                <label asp-for="ArrivalDate" class="control-label"></label>
                <input asp-for="ArrivalDate" class="form-control" />
                <span asp-validation-for="ArrivalDate" class="text-danger"></span>
            </div>
            <div class="form-group form-check d-none">
                <label class="form-check-label">
                    <input class="form-check-input" asp-for="Canceled" /> @Html.DisplayNameFor(model => model.Canceled)
                </label>
            </div>
            <div class="form-group form-check d-none">
                <label class="form-check-label">
                    <input class="form-check-input" asp-for="Locked" /> @Html.DisplayNameFor(model => model.Locked)
                </label>
            </div>
            <div class="form-group d-none">
                <label asp-for="SVID" class="control-label"></label>
                <input asp-for="SVID" class ="form-control" />
            </div>
            <div class="form-group">
                <label asp-for="CRID" class="control-label"></label>
                <input asp-for="CRID" class ="form-control" value='@ViewData["CRID"]' />
            </div>
            <div class="form-group">
                <label asp-for="ASID" class="control-label">地址欄</label>
                <select asp-for="ASID" class ="form-control" asp-items="ViewBag.CustomerAddresses"></select>
            </div>
            <div class="form-group d-none">
                <label asp-for="PCID" class="control-label">信用卡卡號</label>
                <input asp-for="PCID" class="form-control" />
            </div>
            <div class="form-group d-none">
                <label asp-for="SRID" class="control-label"></label>
                <input asp-for="SRID" class="form-control" />
            </div>
            <div class="form-group d-none">
                <label asp-for="PMID" class="control-label"></label>
                <input asp-for="PMID" class="form-control" />
            </div>
            <div class="form-group">
                <label asp-for="CNID" class="control-label">折價券代碼</label>
                <select asp-for="CNID" class="form-control" asp-items="ViewBag.CustomerUseableCoupons"></select>
            </div>
            <input type="hidden" name="cartData" id="cartData">
            <div class="form-group my-3">
                <input type="submit" value="確認結帳，選擇付款與運送方式" class="btn btn-primary btn-lg" />
            </div>
        </form>
        <div>
            <a asp-action="Index">我還想逛逛，先不結帳</a>
        </div>
    </div>
</div>



@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
    <script>
        //要將購物車內商品二維陣列拋到GenerateOrdersBaseOnDifferentProducts Action
        $('#cartData').val(localStorage.getItem("cartData"));
    </script>
}
